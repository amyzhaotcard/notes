(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{398:function(i,t,e){"use strict";e.r(t);var a=e(26),l=Object(a.a)({},(function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":i.$parent.slotKey}},[e("h1",{attrs:{id:"层级上下文-层叠上下文-z-index"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#层级上下文-层叠上下文-z-index"}},[i._v("#")]),i._v(" 层级上下文/层叠上下文（z-index）")]),i._v(" "),e("blockquote",[e("p",[i._v("我们假定用户正面向（浏览器）视窗或网页，而 HTML 元素沿着其相对于用户的一条虚构的 z 轴排开，层叠上下文就是对这些 HTML 元素的一个三维构想。众 HTML 元素基于其元素属性按照优先级顺序占据这个空间。")])]),i._v(" "),e("p",[e("strong",[i._v("z-index 是基于父级元素的")])]),i._v(" "),e("h2",{attrs:{id:"形成条件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#形成条件"}},[i._v("#")]),i._v(" 形成条件")]),i._v(" "),e("p",[i._v("文档中的层叠上下文由满足以下任意一个条件的元素形成：")]),i._v(" "),e("ul",[e("li",[i._v("文档根元素（"),e("code",[i._v("html")]),i._v("）；")]),i._v(" "),e("li",[i._v("position 值为 absolute（绝对定位）或 relative（相对定位）且 z-index 值不为 auto 的元素；")]),i._v(" "),e("li",[i._v("position 值为 fixed（固定定位）或 sticky（粘滞定位）的元素（沾滞定位适配所有移动设备上的浏览器，但老的桌面浏览器不支持）；")]),i._v(" "),e("li",[i._v("flex (flexbox (en-US)) 容器的子元素，且 z-index 值不为 auto；")]),i._v(" "),e("li",[i._v("grid (grid) 容器的子元素，且 z-index 值不为 auto；")]),i._v(" "),e("li",[i._v("opacity 属性值小于 1 的元素（参见 the specification for opacity）；")]),i._v(" "),e("li",[i._v("mix-blend-mode 属性值不为 normal 的元素；")]),i._v(" "),e("li",[i._v("以下任意属性值不为 none 的元素：transform、filter、perspective、clip-path、mask / mask-image / mask-border")]),i._v(" "),e("li",[i._v("isolation 属性值为 isolate 的元素；")]),i._v(" "),e("li",[i._v("-webkit-overflow-scrolling 属性值为 touch 的元素；")]),i._v(" "),e("li",[i._v("will-change 值设定了任一属性而该属性在 non-initial 值时会创建层叠上下文的元素（参考这篇文章）；")]),i._v(" "),e("li",[i._v("contain 属性值为 layout、paint 或包含它们其中之一的合成值（比如 contain: strict、contain: content）的元素。")])]),i._v(" "),e("h2",{attrs:{id:"使用-z-index-有什么需要注意的地方"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用-z-index-有什么需要注意的地方"}},[i._v("#")]),i._v(" 使用 z-index 有什么需要注意的地方？")]),i._v(" "),e("ul",[e("li",[i._v("在开发中尽量避免层叠上下文的多层嵌套，因为层叠上下文嵌套过多的话容易产生混乱，如果对层叠上下文理解不够的话是不好把控的。")]),i._v(" "),e("li",[i._v("非浮层元素（对话框等）尽量不要用 z-index（通过层叠顺序或者 dom 顺序或者通过层叠上下文进行处理）")]),i._v(" "),e("li",[i._v("z-index 设置数值时尽量用个位数")]),i._v(" "),e("li",[i._v("让 absolute 元素覆盖正常文档流内元素（不用设 z-index，自然覆盖）")]),i._v(" "),e("li",[i._v("让后一个 absolute 元素覆盖前一个 absolute 元素（不用设 z-index，只要在 HTML 端正确设置元素顺序即可）")])]),i._v(" "),e("h2",{attrs:{id:"使用场景"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用场景"}},[i._v("#")]),i._v(" 使用场景")]),i._v(" "),e("ul",[e("li",[i._v("当 absolute 元素覆盖另一个 absolute 元素，且 HTML 端不方便调整 DOM 的先后顺序时，需要设置 z-index: 1。")]),i._v(" "),e("li",[i._v("非常少见的情况下多个 absolute 交错覆盖，或者需要显示最高层次的模态对话框时，可以设置 z-index > 1。")])])])}),[],!1,null,null,null);t.default=l.exports}}]);